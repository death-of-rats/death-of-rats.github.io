<!DOCTYPE html>
<html>
<head>
<link href="../../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../assets/css/style.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
<meta name="author" content="death-of-rats">
<link rel="prev" href="../std%3A%3Amake_shared/" title="0x00 std::make_shared" type="text/html">
<meta property="og:site_name" content="Death Of Rats">
<meta property="og:title" content="github + nikola">
<meta property="og:url" content="https://death-of-rats.github.io/posts/github-%2B-nikola/">
<meta property="og:description" content="Configure GitHub-Pages with Nikola">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-05-21T07:00:30Z">
<meta property="article:tag" content="git github nikola">
</head>
<body>

<section class="section"><div class="container">
    <nav class="nav"><div class="nav-left">
        <a class="nav-item" href="https://death-of-rats.github.io/"><h1 class="title is-4">Death Of Rats</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile"><a class="level-item" href="../../archive.html">
            <span class="icon">
              <i class="Archive"></i>
            </span>
          </a>
          <a class="level-item" href="../../categories/">
            <span class="icon">
              <i class="Tags"></i>
            </span>
          </a>
          <a class="level-item" href="../../rss.xml">
            <span class="icon">
              <i class="RSS feed"></i>
            </span>
          </a>
        </nav>
</div>
    </nav>
</div>
</section><section class="section"><div class="container">
    <h2 class="subtitle is-6">2018-05-21 07:00</h2>
    <h1 class="title">github + nikola</h1>
    <div class="content">
    <div>
<p>How to start GitHub repo for hosting pages with Nikola. I want a branch (let us name it <code>source</code>) where I will keep my project. I plan to generate static files to some folder and push it to the <code>master</code> branch. In other words <code>master</code> branch will have my site and <code>source</code> branch will have whole Nikola engine with my post source files.</p>
<p>I need to create new repo: <em>username.github.io</em> on GitHub page. Next clone it to local folder make my branch and push it.</p>
<pre class="code literal-block"><span></span>git clone git@github.com:death-of-rats/death-of-rats.github.io.git
<span class="nb">cd</span> death-of-rats.github.io.git
git commit --allow-empty -am <span class="s2">"start using repo"</span>
git branch <span class="nb">source</span>
git checkout <span class="nb">source</span>
git push --set-upstream origin <span class="nb">source</span>
</pre>


<p>And here I have empty repo with 2 branches.</p>
<p>Now I init Nikola project in repo root folder (on branch <code>source</code>). Nikola will produce html files in <code>output</code> folder so I need after first test run split subtree for that foledr and push it to <code>master</code>:</p>
<pre class="code literal-block"><span></span>git push origin <span class="sb">`</span>git subtree split --prefix output/ master<span class="sb">`</span>:master --force
</pre>


<p>Since now deploy command may look like:</p>
<pre class="code literal-block"><span></span>git checkout <span class="nb">source</span>
git add -A
git commit -m <span class="s2">"deploy"</span> -S
git push origin <span class="nb">source</span>
git subtree push --prefix output/ origin master
</pre>


<p>What I've missed? I didn't add <code>.gitignore</code>...</p>
<p>...<strong>PIP</strong>!</p>
</div>
    </div>
    </div>
</section><section class="section"><div class="container has-text-centered">
            <p>Contents Â© 2018         death-of-rats - powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
            
  </div>
</section>
</body>
</html>
